<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gemini Code Assist Permissions - GalacticBacon</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Inter', sans-serif; }
        .code-block {
            background-color: #272822;
            color: #f8f8f2;
            padding: 1rem;
            border-radius: 0.5rem;
            overflow-x: auto;
            font-family: monospace;
            font-size: 0.875rem;
            line-height: 1.4;
        }
    </style>
</head>
<body class="bg-gray-50 min-h-screen">

    <div class="container mx-auto p-8 max-w-5xl">
        <header class="mb-10 border-b border-gray-300 pb-4">
            <h1 class="text-4xl font-extrabold text-gray-900 mb-2">Gemini Code Assist Permissions Guide</h1>
            <p class="text-xl text-gray-600">Elevating AI capabilities within the GalacticBacon code-server environment.</p>
        </header>

        <section class="mb-12 bg-white p-6 rounded-xl shadow-lg border border-gray-200">
            <h2 class="text-2xl font-bold text-gray-800 mb-4 border-b pb-2">1. Docker Engine Integration</h2>
            <p class="text-gray-700 mb-4">To allow Gemini to troubleshoot containers, view logs, and manage stacks, it must have access to the host's Docker socket.</p>
            
            <h3 class="text-lg font-semibold text-gray-700 mt-4">Step A: Update docker-compose.yml</h3>
            <div class="code-block">
                volumes:<br>
                &nbsp;&nbsp;- /var/run/docker.sock:/var/run/docker.sock # Maps host engine to container
            </div>

            <h3 class="text-lg font-semibold text-gray-700 mt-6">Step B: Apply Socket Permissions</h3>
            <p class="text-gray-700 mb-2">Run this on the Ubuntu host to ensure the container user (1000) can read/write to the socket.</p>
            <div class="code-block">
                sudo chmod 666 /var/run/docker.sock
            </div>
        </section>

        <section class="mb-12 bg-white p-6 rounded-xl shadow-lg border border-gray-200">
            <h2 class="text-2xl font-bold text-gray-800 mb-4 border-b pb-2">2. Sudo & Terminal Privileges</h2>
            <p class="text-gray-700 mb-4">By default, the terminal is restricted. Adding a Sudo password environment variable allows the AI/User to install tools on the fly.</p>
            
            <h3 class="text-lg font-semibold text-gray-700 mt-4">Update Environment Variables</h3>
            <div class="code-block">
                environment:<br>
                &nbsp;&nbsp;- SUDO_PASSWORD=netsys<br>
                &nbsp;&nbsp;- PUID=1000<br>
                &nbsp;&nbsp;- PGID=1000
            </div>

            <h3 class="text-lg font-semibold text-gray-700 mt-6">Install Required Tooling</h3>
            <p class="text-gray-700 mb-2">Gemini relies on standard Linux utilities to gather context. Install these into the container once:</p>
            <div class="code-block">
                sudo docker exec -it -u root code-server apt-get update<br>
                sudo docker exec -it -u root code-server apt-get install -y nmap dnsutils curl git jq
            </div>
        </section>

        <section class="mb-12 bg-white p-6 rounded-xl shadow-lg border border-gray-200">
            <h2 class="text-2xl font-bold text-gray-800 mb-4 border-b pb-2">3. Google Cloud IAM Roles</h2>
            <p class="text-gray-700 mb-4">The AI's intelligence is gated by the permissions of the account logged into the extension.</p>
            
            <ul class="list-disc ml-6 space-y-2 text-gray-700">
                <li><strong>Gemini for Google Cloud User</strong>: Minimum required for Code Assist features.</li>
                <li><strong>Logging Viewer</strong>: Required if you want Gemini to analyze GCP cloud logs.</li>
                <li><strong>Project Viewer</strong>: Allows Gemini to understand the context of your GCP infrastructure.</li>
            </ul>
        </section>

        <section class="mb-12 bg-white p-6 rounded-xl shadow-lg border border-gray-200">
            <h2 class="text-2xl font-bold text-gray-800 mb-4 border-b pb-2 text-indigo-700">4. Workspace Context Indexing</h2>
            <p class="text-gray-700 mb-4">Gemini is most powerful when it can read your local files to understand your code structure.</p>
            <div class="bg-indigo-50 p-4 rounded-lg border-l-4 border-indigo-500">
                <p class="text-sm text-indigo-900">
                    <strong>Action:</strong> Inside VS Code, go to <strong>Settings (Ctrl+,)</strong> ➔ Search for <strong>"Gemini"</strong> ➔ Ensure <strong>"Enable Code Indexing"</strong> is checked and your workspace root is set to <code>/home/coder/project</code>.
                </p>
            </div>
        </section>

        <footer class="text-center text-gray-500 text-sm pt-8 border-t border-gray-300">
            &copy; 2026 GalacticBacon Tech Docs | Internal Use Only
        </footer>
    </div>
</body>
</html>
